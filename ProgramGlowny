package uz.zgora.pwir.lab3a;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class ProgramGlowny
{
	static int miejsca = 0;
	static int zwiedzajacy = 0;
	static int ilosc_paczkow = 0;
	
	static int CZAS=1000;
	
	public static void main(String[] args)
	{
		BufferedReader input = new BufferedReader(new InputStreamReader(System.in));
			try
			{
				System.out.print("Ilosc miejsc w cukierni(do okienka): ");
				System.err.println("\nPodana liczba będzie zwiększona 2x do obu okienek");
				miejsca = Integer.valueOf(input.readLine());				
				System.out.print("Ilość kupujacych: ");
				zwiedzajacy = Integer.valueOf(input.readLine());
				System.out.print("Czas Chodzenia: ");
				Kupujacy.CzasChodzenia = Integer.valueOf(input.readLine());
				System.out.print("Czas Jedzenia: ");
				Kupujacy.CzasJedzenia = Integer.valueOf(input.readLine());
				System.out.println("Ilość dostarczanych pączków w 1s: ");
//				DostawcaPaczków.ilosc_paczkow = Integer.valueOf(input.readLine());
				ilosc_paczkow = Integer.valueOf(input.readLine());
			} 
			catch(Exception e)
			{
				System.out.println(e.toString());
				System.exit(1);
			}
		
		Cukiernia kupujacy_cukiernia = new Cukiernia(miejsca, miejsca, ilosc_paczkow);
		for (int i = 0; i < zwiedzajacy; i++)
		{
			new Kupujacy(String.format("zwiedzający #%03d", i + 1),
					kupujacy_cukiernia).start();
		}
		
		try {
			String wejscie;	
			do {
				wejscie = input.readLine();
			} while(!wejscie.equals(""));			
			
		} catch (IOException e) {
			e.printStackTrace();
		} finally {
			System.exit(0);
		}
	}
}
